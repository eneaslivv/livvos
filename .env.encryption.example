# Credential Encryption Environment Configuration

# ========================================
# SECURITY CRITICAL: DO NOT COMMIT TO VERSION CONTROL
# ========================================

# Master encryption key for credential encryption
# Must be at least 32 characters long for AES-256 encryption
# Generate a strong random key using: openssl rand -base64 32
ENCRYPTION_MASTER_KEY=your-super-secret-32-character-master-key-here

# Alternative for client-side (if using Vite)
VITE_ENCRYPTION_MASTER_KEY=your-super-secret-32-character-master-key-here

# Key rotation configuration
ENCRYPTION_KEY_ROTATION_DAYS=90

# Credential access logging
LOG_CREDENTIAL_ACCESS=true
LOG_CREDENTIAL_FAILURES=true

# Security settings
MAX_CREDENTIAL_ACCESS_ATTEMPTS=3
CREDENTIAL_LOCKOUT_DURATION_MINUTES=15

# Database settings
CREDENTIAL_ENCRYPTION_VAULT_PATH=/app/secrets/credentials

# Development/Testing only
NODE_ENV=development
ENCRYPTION_DEBUG=false

# ========================================
# PRODUCTION ENVIRONMENT VARIABLES
# ========================================

# For production, consider using a key management service
# AWS KMS, Azure Key Vault, or HashiCorp Vault

# AWS KMS (if using AWS)
# AWS_KMS_KEY_ID=arn:aws:kms:region:account:key/key-id
# AWS_REGION=us-east-1

# Azure Key Vault (if using Azure)
# AZURE_KEY_VAULT_NAME=your-vault-name
# AZURE_KEY_VAULT_KEY_NAME=credential-encryption-key

# HashiCorp Vault (if using Vault)
# VAULT_ADDR=https://vault.example.com
# VAULT_TOKEN=your-vault-token
# VAULT_SECRET_PATH=secret/data/credential-encryption

# ========================================
# SECURITY NOTES
# ========================================

# 1. Never commit the master key to version control
# 2. Rotate the encryption key regularly (every 90 days recommended)
# 3. Use environment-specific keys for development/staging/production
# 4. Monitor for unauthorized credential access attempts
# 5. Implement proper backup and recovery procedures
# 6. Consider using a dedicated key management service in production

# ========================================
# MIGRATION INSTRUCTIONS
# ========================================

# When rotating encryption keys:
# 1. Keep the old key available for decryption during transition
# 2. Run the key rotation process for all existing credentials
# 3. Verify all credentials are encrypted with the new key
# 4. Remove the old key from environment variables
# 5. Test credential access to ensure everything works

# ========================================
# TESTING ENVIRONMENT
# ========================================

# For testing, you can use a fixed key:
# ENCRYPTION_MASTER_KEY=test-encryption-key-32-chars-long!!

# Never use test keys in production!